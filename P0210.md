这段代码主要使用了哈希表降低运算复杂度，使得最原本因为存在四个列表而导致的复杂度为$$O(n^4)$$，分成了两个列表加两个列表的形式产生了复杂度为$$O(n^2)$$的结果，当然第一想法就是4+0或者3+1或者2+2，根据运算复杂度的计算方法，采用2+2是最合理的，在此基础上对A/B和C/D列表分别处理，将两个列表中数之和进行比较，得出结果。在之后列表读取中，采用了先赋值后替换的方法，比append降低了内存占用，提高了效率

## 题目状态

**状态:** Accepted

## 源代码

```python
def count(A, B, C, D):
    count = 0
    map = {}
    for a in A:
        for b in B:
            sum_ab = a + b
            if sum_ab in map:
                map[sum_ab] += 1
            else:
                map[sum_ab] = 1
    for c in C:
        for d in D:
            sum_cd = c + d
            if -sum_cd in map:
                count += map[-sum_cd]
    return count

n = int(input())
A = [0] * n
B = [0] * n
C = [0] * n
D = [0] * n
for i in range(n):
    a, b, c, d = map(int, input().split())
    A[i], B[i], C[i], D[i] = a, b, c, d
result = count(A, B, C, D)
print(result)
基本信息
题号: 48308629
题目: P0210
提交人: 2200015881 杨济泽(2200015881)
内存: 171940kB
时间: 3172ms
语言: Python3
提交时间: 2025-02-19 14:36:00


```python

```
