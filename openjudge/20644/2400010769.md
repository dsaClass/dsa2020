## 状态:[Accepted](http://xzmdsa.openjudge.cn/finalexamttest2/solution/48384795/)
    基本信息
    #:48384795
    题目:20644
    提交人:2400010769李铭博
    内存:3748kB
    时间:28ms
    语言:Python3
    提交时间:2025-02-27 22:03:19
# 分析
1. **分析所求**：我们定义一个 `dp` 矩阵，其中 `dp[i][j]` 表示以 `(i, j)` 为右下角的全1正方形子矩阵的个数。容易发现所求个数即为dp元素和
2. **简化**:进一步，我们发现以 `(i, j)` 为右下角的全1正方形子矩阵个数即为以 `(i, j)` 为右下角的全1正方形的最大矩阵的边长，下面希望求解 `dp[i][j]`

3. **初始化**：对于第一行和第一列，由于没有上方或左方的元素，如果 `matrix[i][j]` 是 '1'，则 `dp[i][j]` 直接为 1。
4. **状态转移方程**：对于每个位置 `(i, j)`，如果 `matrix[i][j]` 是 '1'，那么 `dp[i][j]` 可以通过查看其上方、左方和左上方的 `dp` 值来确定。具体来说，`dp[i][j]` 应该是 `dp[i-1][j]`（上方）、`dp[i][j-1]`（左方）和 `dp[i-1][j-1]`（左上方）的最小值加一（容易验证）。如果 `matrix[i][j]` 是 '0'，则 `dp[i][j]` 为 0。

通过以上步骤即可高效解决问题




